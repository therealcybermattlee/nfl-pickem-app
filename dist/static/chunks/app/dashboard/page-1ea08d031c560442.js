(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{814:(e,s,a)=>{"use strict";a.d(s,{A:()=>c});let c=(0,a(1847).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},1169:(e,s,a)=>{"use strict";a.d(s,{A:()=>c});let c=(0,a(1847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},2966:(e,s,a)=>{Promise.resolve().then(a.bind(a,9485))},6613:(e,s,a)=>{"use strict";a.d(s,{A:()=>c});let c=(0,a(1847).A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])},9485:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var c=a(5155),l=a(6489),i=a(63),t=a(2115),r=a(6257),d=a(3209),n=a(7003),x=a(3408),m=a(814),h=a(6613),o=a(1169),j=a(6485),u=a(2619),f=a.n(u);function p(){let{data:e,status:s}=(0,l.useSession)(),a=(0,i.useRouter)(),[u,p]=(0,t.useState)({totalPicks:0,correctPicks:0,completedGames:0,winRate:0,upcomingGames:0}),[v,g]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if("loading"!==s){if(!e)return void a.push("/signin");N()}},[e,s,a]);let N=async()=>{try{g(!0);let[e,s]=await Promise.all([fetch("/api/picks"),fetch("/api/games")]),[a,c]=await Promise.all([e.json(),s.json()]),l=Array.isArray(a)?a:a.success?a.picks:[],i=Array.isArray(c)?c:c.success?c.games:[];if(l&&i){let e=l.filter(e=>{var s;return null==(s=i.find(s=>s.id===e.gameId))?void 0:s.isCompleted}).length,s=l.filter(e=>{let s=i.find(s=>s.id===e.gameId);return(null==s?void 0:s.isCompleted)&&s.winnerTeamId===e.teamId}).length,a=i.filter(e=>!e.isCompleted&&new Date(e.gameDate)>new Date).length;p({totalPicks:l.length,correctPicks:s,completedGames:e,winRate:e>0?Math.round(s/e*100):0,upcomingGames:a})}else console.error("Invalid data format received from API")}catch(e){console.error("Failed to fetch user stats:",e)}finally{g(!1)}};return"loading"===s?(0,c.jsx)(r.O,{children:(0,c.jsx)("div",{className:"flex min-h-[50vh] items-center justify-center",children:(0,c.jsx)("div",{className:"text-center",children:"Loading..."})})}):e?(0,c.jsx)(r.O,{children:(0,c.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,c.jsxs)("div",{className:"space-y-8",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",e.user.name||e.user.username,"!"]}),(0,c.jsx)("p",{className:"text-muted-foreground",children:"Ready to make your NFL picks for this week?"})]}),(0,c.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,c.jsx)(d.Zp,{children:(0,c.jsx)(d.Wu,{className:"p-4",children:(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-2xl font-bold",children:v?"-":u.totalPicks}),(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Picks"})]})]})})}),(0,c.jsx)(d.Zp,{children:(0,c.jsx)(d.Wu,{className:"p-4",children:(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-2xl font-bold text-green-600",children:v?"-":u.correctPicks}),(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:"Correct"})]})]})})}),(0,c.jsx)(d.Zp,{children:(0,c.jsx)(d.Wu,{className:"p-4",children:(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"text-2xl font-bold",children:[v?"-":u.winRate,"%"]}),(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:"Win Rate"})]})]})})}),(0,c.jsx)(d.Zp,{children:(0,c.jsx)(d.Wu,{className:"p-4",children:(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:v?"-":u.upcomingGames}),(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:"Games Left"})]})]})})})]}),(0,c.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,c.jsxs)(d.Zp,{children:[(0,c.jsxs)(d.aR,{children:[(0,c.jsxs)(d.ZB,{className:"flex items-center",children:[(0,c.jsx)(m.A,{className:"h-5 w-5 mr-2"}),"Make Picks"]}),(0,c.jsx)(d.BT,{children:"Choose winners for upcoming games"})]}),(0,c.jsx)(d.Wu,{children:(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:u.upcomingGames>0?"".concat(u.upcomingGames," games available to pick"):"All picks submitted for this week"}),(0,c.jsx)(n.$,{asChild:!0,className:"w-full",children:(0,c.jsx)(f(),{href:"/picks",children:"View Picks"})})]})})]}),(0,c.jsxs)(d.Zp,{children:[(0,c.jsxs)(d.aR,{children:[(0,c.jsxs)(d.ZB,{className:"flex items-center",children:[(0,c.jsx)(j.A,{className:"h-5 w-5 mr-2"}),"Games & Scores"]}),(0,c.jsx)(d.BT,{children:"View live scores and schedules"})]}),(0,c.jsx)(d.Wu,{children:(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:"Track real-time game results and upcoming matchups"}),(0,c.jsx)(n.$,{variant:"outline",asChild:!0,className:"w-full",children:(0,c.jsx)(f(),{href:"/games",children:"View Games"})})]})})]}),(0,c.jsxs)(d.Zp,{children:[(0,c.jsxs)(d.aR,{children:[(0,c.jsxs)(d.ZB,{className:"flex items-center",children:[(0,c.jsx)(o.A,{className:"h-5 w-5 mr-2"}),"My Profile"]}),(0,c.jsx)(d.BT,{children:"View stats and manage account"})]}),(0,c.jsx)(d.Wu,{children:(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:"Check your season performance and settings"}),(0,c.jsx)(n.$,{variant:"outline",asChild:!0,className:"w-full",children:(0,c.jsx)(f(),{href:"/profile",children:"View Profile"})})]})})]})]}),!v&&u.totalPicks>0&&(0,c.jsxs)(d.Zp,{children:[(0,c.jsxs)(d.aR,{children:[(0,c.jsx)(d.ZB,{children:"Season Performance"}),(0,c.jsx)(d.BT,{children:"Your pick performance overview"})]}),(0,c.jsx)(d.Wu,{children:(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{className:"text-sm font-medium",children:"Overall Accuracy"}),(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,c.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(u.winRate,"%")}})}),(0,c.jsxs)("span",{className:"text-sm font-bold",children:[u.winRate,"%"]})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-lg font-bold text-green-600",children:u.correctPicks}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"Correct"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-lg font-bold text-red-600",children:u.completedGames-u.correctPicks}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"Incorrect"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-lg font-bold text-gray-600",children:u.totalPicks-u.completedGames}),(0,c.jsx)("div",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})]})})]}),(0,c.jsxs)("div",{className:"mt-8",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold",children:"This Week's Games"}),(0,c.jsx)(n.$,{variant:"outline",asChild:!0,children:(0,c.jsx)(f(),{href:"/games",children:"View All"})})]}),(0,c.jsx)(x.Q,{})]})]})})}):null}}},e=>{e.O(0,[489,690,360,662,545,408,441,493,358],()=>e(e.s=2966)),_N_E=e.O()}]);
import{j as e}from"./index-BQMGdd4M.js";import{r as d}from"./vendor-DLdglawL.js";import{A as f}from"./api-9Tv9JkjW.js";function P(){const[t,i]=d.useState(null),[h,o]=d.useState(!0),[n,c]=d.useState(null),[l,p]=d.useState(1),[r,j]=d.useState(2025);d.useEffect(()=>{N()},[l,r]);const N=async()=>{o(!0),c(null);try{const s=await f.getLeaderboard(l,r);s.success&&s.data?i(s.data):i({week:l,season:r,totalGames:16,completedGames:2,entries:[{user:{id:1,name:"Dad",email:"dad@example.com",displayName:"Dad"},position:1,points:1,totalPicks:2,totalGames:16,winPercentage:50,streak:0,lastWeekPoints:0},{user:{id:2,name:"Mom",email:"mom@example.com",displayName:"Mom"},position:1,points:1,totalPicks:2,totalGames:16,winPercentage:50,streak:0,lastWeekPoints:0},{user:{id:3,name:"TwoBow",email:"twobow@example.com",displayName:"TwoBow"},position:1,points:1,totalPicks:2,totalGames:16,winPercentage:50,streak:0,lastWeekPoints:0},{user:{id:4,name:"RockyDaRock",email:"rocky@example.com",displayName:"RockyDaRock"},position:1,points:1,totalPicks:2,totalGames:16,winPercentage:50,streak:0,lastWeekPoints:0}]})}catch{c("Failed to load leaderboard data")}finally{o(!1)}},m=s=>{switch(s){case 1:return"🏆";case 2:return"🥈";case 3:return"🥉";default:return s.toString()}},x=s=>{switch(s){case 1:return"text-yellow-500";case 2:return"text-gray-400";case 3:return"text-amber-600";default:return"text-muted-foreground"}},u=s=>{if(!s||s===0)return null;const a=s>0,g=Math.abs(s);return e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${a?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[a?"🔥":"❄️"," ",g]})};return h?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading leaderboard..."})}):n?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsxs("div",{className:"text-red-500",children:["Error: ",n]})}):t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Leaderboard"}),e.jsxs("div",{className:"text-muted-foreground",children:["Week ",t.week," • ",t.season," Season"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.completedGames," of ",t.totalGames," games completed"]})]}),e.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"week",className:"text-sm text-muted-foreground",children:"Week:"}),e.jsx("select",{id:"week",value:l,onChange:s=>p(Number(s.target.value)),className:"px-3 py-1 border rounded-md bg-card text-foreground",children:Array.from({length:18},(s,a)=>a+1).map(s=>e.jsxs("option",{value:s,children:["Week ",s]},s))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"season",className:"text-sm text-muted-foreground",children:"Season:"}),e.jsxs("select",{id:"season",value:r,onChange:s=>j(Number(s.target.value)),className:"px-3 py-1 border rounded-md bg-card text-foreground",children:[e.jsx("option",{value:2025,children:"2025"}),e.jsx("option",{value:2024,children:"2024"})]})]})]}),e.jsxs("div",{className:"bg-card rounded-lg border overflow-hidden",children:[e.jsx("div",{className:"md:hidden space-y-2 p-4",children:t.entries.map((s,a)=>e.jsxs("div",{className:`p-4 rounded-lg border ${s.position===1?"border-yellow-300 bg-yellow-50":"border-border"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`text-2xl font-bold ${x(s.position)}`,children:m(s.position)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:s.user.displayName||s.user.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.points," points"]})]})]}),u(s.streak)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Record:"}),e.jsxs("div",{className:"font-medium",children:[s.totalPicks-(s.totalPicks-s.points),"-",s.totalPicks-s.points]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Win %:"}),e.jsxs("div",{className:"font-medium",children:[s.winPercentage.toFixed(1),"%"]})]})]})]},s.user.id))}),e.jsx("div",{className:"hidden md:block",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 font-semibold",children:"Rank"}),e.jsx("th",{className:"text-left p-4 font-semibold",children:"Player"}),e.jsx("th",{className:"text-center p-4 font-semibold",children:"Points"}),e.jsx("th",{className:"text-center p-4 font-semibold",children:"Record"}),e.jsx("th",{className:"text-center p-4 font-semibold",children:"Win %"}),e.jsx("th",{className:"text-center p-4 font-semibold",children:"Streak"}),e.jsx("th",{className:"text-center p-4 font-semibold",children:"Last Week"})]})}),e.jsx("tbody",{children:t.entries.map((s,a)=>e.jsxs("tr",{className:`border-t hover:bg-muted/50 transition-colors ${s.position===1?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"p-4",children:e.jsx("div",{className:`flex items-center gap-2 font-bold text-lg ${x(s.position)}`,children:s.position<=3?m(s.position):s.position})}),e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-semibold",children:s.user.displayName||s.user.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.user.email})]}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("div",{className:"font-bold text-lg text-primary",children:s.points})}),e.jsxs("td",{className:"p-4 text-center",children:[e.jsxs("div",{className:"font-medium",children:[s.points,"-",s.totalPicks-s.points]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.totalPicks," picks"]})]}),e.jsx("td",{className:"p-4 text-center",children:e.jsxs("div",{className:"font-medium",children:[s.winPercentage.toFixed(1),"%"]})}),e.jsx("td",{className:"p-4 text-center",children:u(s.streak)}),e.jsx("td",{className:"p-4 text-center",children:e.jsx("div",{className:"font-medium",children:s.lastWeekPoints||0})})]},s.user.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-card rounded-lg border p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:t.entries.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Players"})]}),e.jsxs("div",{className:"bg-card rounded-lg border p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:t.completedGames}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Games Completed"})]}),e.jsxs("div",{className:"bg-card rounded-lg border p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:t.totalGames-t.completedGames}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Games Remaining"})]})]}),e.jsxs("div",{className:"text-center text-xs text-muted-foreground space-y-1",children:[e.jsx("div",{children:"🏆 1st Place • 🥈 2nd Place • 🥉 3rd Place"}),e.jsx("div",{children:"🔥 Win Streak • ❄️ Loss Streak"})]})]}):e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx("div",{className:"text-muted-foreground",children:"No leaderboard data available"})})}export{P as LeaderboardPage};
